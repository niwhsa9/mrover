#pragma once

// macOS does not have std::format yet
// So we define it and redirect it to fmt::format

#ifdef __APPLE__
#include <fmt/core.h>

namespace std {
    namespace execution {
        enum class ExecutionPolicy { seq, par, par_unseq }; // namespace execution
    }
    //implementation of std::for_each that takes an execution policy
    template <class InputIt, class UnaryFunction>
    void for_each(__attribute__((unused)) std::execution::ExecutionPolicy p, InputIt first, InputIt last, UnaryFunction f){
        //forward to std::for_each without the execution policy
        std::for_each(first, last, f);
    }


} // namespace std
#else
#include_next <format>
#endif
